<!doctype html>
<html lang="ja">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>laamile - 記事一覧</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gradient-to-r from-purple-400 via-blue-300 to-indigo-300 min-h-screen flex items-center justify-center">
    <!-- コンテナ -->
    <div class="bg-white rounded-lg shadow-lg p-8 max-w-2xl text-center">
        <!-- 記事一覧タイトル -->
        <h1 class="text-3xl font-bold text-gray-800 mb-6">記事一覧</h1>

        <!-- 記事のカード一覧を動的に挿入する場所 -->
        <div id="article-list" class="grid grid-cols-1 sm:grid-cols-2 gap-6"></div>

        <!-- 戻るリンク -->
        <div class="mt-6">
            <a href="/"
                class="bg-blue-500 text-white py-2 px-3 rounded-full text-base font-medium shadow-lg hover:bg-blue-600 transition duration-300">
                ホームに戻る
            </a>
        </div>
    </div>

    <script>
        // フルパスでVercelのサーバーレスAPIを呼び出す（CORS対応）
        fetch('https://ishii-kanade-github-io-serverside.vercel.app/api/articles', {
            mode: 'cors' // CORSリクエストモード
        })
        .then(response => response.json())
        .then(data => {
            const articleList = document.getElementById('article-list');
    
            data.forEach(article => {
                // カード作成
                const card = document.createElement('div');
                card.classList.add('bg-white', 'border', 'border-gray-200', 'rounded-lg', 'shadow-lg', 'p-4');
    
                const cardTitle = document.createElement('h2');
                cardTitle.classList.add('text-xl', 'font-bold', 'text-gray-800', 'mb-2');
                cardTitle.textContent = article.title;
    
                const cardDescription = document.createElement('p');
                cardDescription.classList.add('text-gray-600', 'mb-4');
                cardDescription.textContent = article.description;
    
                const link = document.createElement('a');
                link.classList.add('text-blue-500', 'hover:text-blue-700', 'font-semibold');
                link.href = article.url;
                link.textContent = '記事を読む';
    
                // カードにタイトル、説明、リンクを追加
                card.appendChild(cardTitle);
                card.appendChild(cardDescription);
                card.appendChild(link);
    
                // カードを記事リストに追加
                articleList.appendChild(card);
            });
        })
        .catch(error => console.error('Error loading articles:', error));
    </script>
    
</body>

</html>
